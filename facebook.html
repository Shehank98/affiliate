<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Facebook Posts - Affiliate Hub</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <div class="sidebar-header"><h2>ğŸ’° Affiliate Hub</h2></div>
      <nav class="sidebar-nav">
        <a href="dashboard.html"><span class="icon">ğŸ“Š</span> Dashboard</a>
        <a href="email.html"><span class="icon">ğŸ“§</span> Email</a>
        <a href="telegram.html"><span class="icon">âœˆï¸</span> Telegram</a>
        <a href="facebook.html" class="active"><span class="icon">ğŸ“˜</span> FB Posts</a>
        <a href="settings.html"><span class="icon">âš™ï¸</span> Settings</a>
      </nav>
      <div class="sidebar-footer">
        <div class="user-info" id="userEmail"></div>
        <button class="btn btn-secondary btn-sm btn-block" onclick="Auth.logout()">ğŸšª Logout</button>
      </div>
    </aside>

    <main class="main-content">
      <div class="card">
        <div class="card-header">
          <h3>ğŸ“˜ Facebook Posts</h3>
          <a href="dashboard.html" class="btn btn-sm btn-secondary">â† Back</a>
        </div>
        
        <div class="alert alert-info">
          ğŸ’¡ Generate posts, copy captions, download images, then manually post to Facebook.
          <br><small>Tip: Add affiliate link in the first COMMENT, not the main post.</small>
        </div>

        <div class="form-row mb-15">
          <div class="form-group">
            <label>Post Style</label>
            <select id="postStyle" onchange="regenerate()">
              <option value="deal">ğŸ”¥ Hot Deal</option>
              <option value="question">â“ Question</option>
              <option value="urgency">â° Urgency</option>
              <option value="simple">ğŸ“ Simple</option>
            </select>
          </div>
          <div class="form-group">
            <label>Custom Hashtags</label>
            <input type="text" id="hashtags" placeholder="#deals #shopping" onchange="regenerate()">
          </div>
        </div>

        <button class="btn btn-secondary" onclick="downloadAll()">ğŸ’¾ Download All Posts</button>
      </div>

      <!-- Generated Posts -->
      <div id="postsContainer"></div>
    </main>
  </div>

  <script src="js/auth.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/facebook.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (!Auth.requireAuth()) return;
      document.getElementById('userEmail').textContent = Auth.getEmail();
      initFacebook();
    });
  </script>
</body>
</html>
